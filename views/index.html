<html>
<head>
  <title>Personal Library</title>
  <link rel="icon" type="image/png" href="https://cdn.freecodecamp.org/universal/favicons/favicon-16x16.png" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/public/style.css">
  <style>
    code {
      background-color: whitesmoke;
    }
  </style>
</head>
<body>
<header>
  <h1>Personal Library</h1>
</header>
<br>
<div id='userstories'>
  <h2 style="text-align: left">User stories</h2>
  <p>1. You can provide your own project, not the example URL.</p>
  <p>2. You can send a POST request to /api/books with title as part of the form data to add a book.
     The returned response will be an object with the title and a unique _id as keys. 
     If title is not included in the request, the returned response should be the string missing required field title.</p>
  <p>3. You can send a GET request to /api/books and receive a JSON response representing all the books.
     The JSON response will be an array of objects with each object (book) containing title,
      _id, and commentcount properties.</p>
  <p>4. You can send a GET request to /api/books/{_id} to retrieve a single object of a book
     containing the properties title, _id, and a comments array (empty array if no comments present). 
     If no book is found, return the string no book exists.</p>
  <p>5. You can send a POST request containing comment as the form body data to /api/books/{_id}
     to add a comment to a book. The returned response will be the books object similar to
      GET /api/books/{_id} request in an earlier test. If comment is not included in the request, 
      return the string missing required field comment. 
      If no book is found, return the string no book exists.</p>
  <p>6. You can send a DELETE request to /api/books/{_id} to delete a book from the collection.
    The returned response will be the string delete successful if successful.
    If no book is found, return the string no book exists.</p>
  <p>7. You can send a DELETE request to /api/books to delete all books in the database.
     The returned response will be the string 'complete delete successful if successful.</p>
</div>
<div id ='sampleposting'>
  <h2 style="text-align: left">Test API responses</h2>
  <form action="/api/books" method="post" class="border">
    <h4>Test post to /api/books</h4>
    <label for="title" >Book Title</label>
    <input type="text" id="title" name="title" value=""><br>
    <input type="submit" value="Submit">
  </form>
  <form action="" method="post" id="commentTest" class="border">
    <h4>Test post to /api/books/{bookid}</h4>
    <label for="idinputtest">BookId to comment on</label>
    <input type="text" name="id" value="" id="idinputtest"><br>
    <label for="comment">Comment</label>
    <input type="text" id="comment" name="comment" value=""><br>
    <input type="submit" value="Submit">
  </form>
</div>
<hr style='margin: 50px'>
<div id='sampleui'>
  <h2 style="text-align: left">Sample Front-End</h2>
  <form id="newBookForm" class="border">
    <label for="bookTitleToAdd">New Book Title</label>
    <input type="text" id="bookTitleToAdd" name="title" placeholder="Moby Dick" style="width: 295px">
    <button type="submit" value="Submit" id="newBook">Submit New Book!</button>
  </form>
  <div id='display'></div>
  <div id='bookDetail' class='border'>
    <p id='detailTitle'>Select a book to see it's details and comments</p>
    <ol id='detailComments'></ol>
  </div>
  <button id='deleteAllBooks'>Delete all books...</button>
</div>
<hr style='margin: 50px'>

<script src="https://code.jquery.com/jquery-2.2.1.min.js"
        integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="
        crossorigin="anonymous"></script>
<script src="/public/client.js"></script>
<script>
  /*
  *  For #sampleposting to update form action url to test inputs book id
  */
  $(function() {
    $('#commentTest').submit(function(){
      let  id = $('#idinputtest').val();
      $(this).attr('action', "/api/books/" + id);
    });
  });
</script>
</body>
</html>
